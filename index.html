<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Crosscrawl v1 â€” Roguelite Crossword (Room Demo)</title>
  <meta name="description" content="Crosscrawl v1: a roguelite mini-crossword room demo with Focus (HP), Red Pencil relic, and Fog of Clue curse." />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="app-header">
    <h1>ðŸ§  Crosscrawl <span class="tag">v1</span></h1>
    <p class="subtitle">Roguelite mini-crossword â€” Room demo (Focus, Red Pencil, Fog of Clue)</p>
  </header>

  <main class="app-main">
    <section class="sidebar">
      <div class="panel run-panel">
        <h2>Run Settings</h2>
        <div class="toggle">
          <label>
            <input type="checkbox" id="toggle-red-pencil" checked />
            Red Pencil (first wrong letter deals 0 damage)
          </label>
        </div>
        <div class="toggle">
          <label>
            <input type="checkbox" id="toggle-fog" checked />
            Fog of Clue (clues hidden until you place a letter in that entry)
          </label>
        </div>
        <div class="controls-row">
          <button id="btn-start">Start / Reset Room</button>
        </div>
      </div>

      <div class="panel status-panel">
        <h2>Status</h2>
        <div class="status-line"><span>Focus (HP):</span> <span id="focus-bar" aria-live="polite"></span></div>
        <div class="status-line"><span>Checks left:</span> <strong id="checks-left">3</strong></div>
        <div class="status-line"><span>Reveals left:</span> <strong id="reveals-left">1</strong></div>
        <div class="status-line"><span>Score:</span> <strong id="score">0</strong></div>
      </div>

      <div class="panel actions-panel">
        <h2>Actions</h2>
        <div class="controls-col">
          <button id="btn-check-letter" title="Consumes one check; verifies current cell">Check Letter</button>
          <button id="btn-reveal-letter" title="Consumes one reveal and 1 Focus; fills correct letter">Reveal Letter (costs 1 Focus)</button>
          <button id="btn-toggle-dir" title="Space also toggles">Toggle Direction (Across/Down)</button>
        </div>
      </div>

      <div class="panel help-panel">
        <h2>Help</h2>
        <ul class="help-list">
          <li><kbd>Type letters</kbd> to fill; incorrect letters deal damage.</li>
          <li><kbd>Arrow keys</kbd> move; <kbd>Space</kbd> toggles Across/Down.</li>
          <li><kbd>Tab</kbd> jumps to next entry; <kbd>Backspace</kbd> clears a cell.</li>
          <li><strong>Fog of Clue</strong>: Clue appears after placing any letter in that entry.</li>
          <li><strong>Red Pencil</strong>: First wrong letter in this room does not hurt.</li>
        </ul>
      </div>
    </section>

    <section class="board-area">
      <div class="title-row">
        <h2 id="puzzle-title">Room</h2>
        <div class="dir-indicator">Direction: <span id="dir-label">Across</span></div>
      </div>
      <div id="grid" class="grid" role="grid" aria-label="Crossword grid"></div>

      <div class="clues-wrap">
        <div class="clues-panel">
          <h3>Across</h3>
          <ol id="across-clues" class="clue-list"></ol>
        </div>
        <div class="clues-panel">
          <h3>Down</h3>
          <ol id="down-clues" class="clue-list"></ol>
        </div>
      </div>
    </section>
  </main>

  <div id="overlay" class="overlay" hidden>
    <div class="overlay-card" role="dialog" aria-labelledby="overlay-title" aria-modal="true">
      <h2 id="overlay-title">Room Complete!</h2>
      <p id="overlay-body"></p>
      <div class="overlay-actions">
        <button id="overlay-close">Close</button>
      </div>
    </div>
  </div>

  <footer class="app-footer">
    <p>Â© Crosscrawl v1 demo. MIT License. Built as a web-first roguelite crossword experiment.</p>
    <p>
      <a href="https://github.com" target="_blank" rel="noopener">GitHub</a> â€¢
      <a href="#" id="link-readme">README</a>
    </p>
  </footer>

  <script src="js/puzzles.js"></script>
  <script src="js/main.js"></script>
</body>
</html>
